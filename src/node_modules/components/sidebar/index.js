import React, {Component} from "react";
import {connect} from "react-redux";
import {Link} from "react-router-dom";
import {withRouter} from 'react-router';
import {compose} from "redux";

import {getCategories, getActiveCategoryId} from 'selectors';


class Sidebar extends Component{

    renderCategory = (category, index) => {
        return (
            <li key={index}>
                <Link to={`/categories/${category.id}`} >{category.name} </Link>
            </li>
        )
    };

    render() {
        const {categories} = this.props;
        return (
            <div className="col-md-3 col-sm-3 collection-sidebar">
                <div className="product-standard filter-product">
                    <div className="filter filter-category">
                        <h3 className="filtertitle">
                            Категории
                        </h3>
                        <ul className="filter-content js-filter-menu">
                            <li><Link to="/">Всё</Link></li>
                            {categories.map((category, index) => this.renderCategory(category, index))}
                        </ul>
                    </div>

                    <div className="sidebar-banner">
                        <a href=""><img src="img/sidebar-banner.jpg" alt="" className="img-reponsive"/></a>
                    </div>
                </div>
            </div>
        )
    }
}
const mapStateToProps = (state, ownProps) =>({
    categories: getCategories(state),
    activeCategoryId: getActiveCategoryId(ownProps)
});


export default compose(
    withRouter,
    connect(mapStateToProps, null)
)(Sidebar)